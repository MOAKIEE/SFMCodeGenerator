<Window x:Class="SFMCodeGenerator.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="clr-namespace:SFMCodeGenerator.ViewModels"
        xmlns:models="clr-namespace:SFMCodeGenerator.Models"
        xmlns:views="clr-namespace:SFMCodeGenerator.Views"
        Title="SFM Code Generator - è¶…çº§å·¥åŽ‚ç®¡ç†ä»£ç ç”Ÿæˆå·¥å…·" 
        Height="800" Width="1300"
        MinHeight="600" MinWidth="1000"
        WindowStartupLocation="CenterScreen"
        Background="{StaticResource BackgroundBrush}">
    
    <Window.DataContext>
        <vm:MainViewModel/>
    </Window.DataContext>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        
        <!-- æ¨¡å¼åˆ‡æ¢ Tab -->
        <Border Grid.Row="0" Background="{StaticResource SurfaceBrush}" Padding="16,8">
            <StackPanel Orientation="Horizontal">
                <RadioButton x:Name="WizardModeButton" Content="ðŸŽ¨ å›¾å½¢åŒ–æ¨¡å¼" 
                             Style="{StaticResource {x:Type ToggleButton}}"
                             IsChecked="True" GroupName="Mode"
                             Foreground="{StaticResource TextPrimaryBrush}"
                             Background="Transparent" BorderThickness="0"
                             Padding="16,8" FontSize="14" Cursor="Hand"/>
                <RadioButton x:Name="AdvancedModeButton" Content="âš™ï¸ é«˜çº§æ¨¡å¼" 
                             Style="{StaticResource {x:Type ToggleButton}}"
                             GroupName="Mode"
                             Foreground="{StaticResource TextPrimaryBrush}"
                             Background="Transparent" BorderThickness="0"
                             Padding="16,8" FontSize="14" Cursor="Hand" Margin="8,0,0,0"/>
            </StackPanel>
        </Border>
        
        <!-- å›¾å½¢åŒ–æ¨¡å¼å†…å®¹ -->
        <Grid Grid.Row="1">
            <Grid.Visibility>
                <Binding ElementName="WizardModeButton" Path="IsChecked">
                    <Binding.Converter>
                        <BooleanToVisibilityConverter/>
                    </Binding.Converter>
                </Binding>
            </Grid.Visibility>
            <views:VisualEditorView/>
        </Grid>
        
        <!-- é«˜çº§æ¨¡å¼å†…å®¹ -->
        <Grid Grid.Row="1">
            <Grid.Visibility>
                <Binding ElementName="AdvancedModeButton" Path="IsChecked">
                    <Binding.Converter>
                        <BooleanToVisibilityConverter/>
                    </Binding.Converter>
                </Binding>
            </Grid.Visibility>
            
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="360"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- å·¦ä¾§é…ç½®é¢æ¿ -->
                <Border Grid.Column="0" 
                        Background="{StaticResource SurfaceBrush}"
                        BorderBrush="{StaticResource BorderBrush}"
                        BorderThickness="0,0,1,0">
                    <ScrollViewer VerticalScrollBarVisibility="Auto">
                        <StackPanel Margin="16">
                    
                    <!-- ç¨‹åºåç§° -->
                    <TextBlock Text="ç¨‹åºåç§°" Style="{StaticResource HeaderLabel}"/>
                    <TextBox Text="{Binding Program.Name, UpdateSourceTrigger=PropertyChanged}"
                             Style="{StaticResource DefaultTextBox}"
                             Margin="0,0,0,16"/>

                    <!-- æ¨¡æ¿ -->
                    <TextBlock Text="å¿«é€Ÿæ¨¡æ¿" Style="{StaticResource HeaderLabel}"/>
                    <WrapPanel Margin="0,0,0,16">
                        <Button Content="ç®€å•ç§»åŠ¨" Style="{StaticResource SecondaryButton}" 
                                Command="{Binding LoadTemplateCommand}" CommandParameter="simple_move"
                                Margin="0,0,8,8"/>
                        <Button Content="è‡ªåŠ¨ç†”ç‚¼" Style="{StaticResource SecondaryButton}"
                                Command="{Binding LoadTemplateCommand}" CommandParameter="smelting"
                                Margin="0,0,8,8"/>
                        <Button Content="è‡ªåŠ¨åˆ†ç±»" Style="{StaticResource SecondaryButton}"
                                Command="{Binding LoadTemplateCommand}" CommandParameter="sorting"
                                Margin="0,0,8,8"/>
                        <Button Content="æµä½“ä¼ è¾“" Style="{StaticResource SecondaryButton}"
                                Command="{Binding LoadTemplateCommand}" CommandParameter="fluid"
                                Margin="0,0,8,8"/>
                        <Button Content="ðŸ“ ç®¡ç†å¸¸ç”¨" Style="{StaticResource SecondaryButton}"
                                Command="{Binding ManageCommonItemsCommand}"
                                ToolTip="ç®¡ç†å¸¸ç”¨æ ‡ç­¾å’Œèµ„æºID"
                                Margin="0,0,8,8"/>
                    </WrapPanel>

                    <!-- è§¦å‘å™¨è®¾ç½® -->
                    <GroupBox Header="è§¦å‘å™¨è®¾ç½®" Style="{StaticResource SettingsGroupBox}">
                        <StackPanel>
                            <TextBlock Text="è§¦å‘å™¨ç±»åž‹" Style="{StaticResource SubHeaderLabel}"/>
                            <ComboBox ItemsSource="{Binding TriggerTypes}"
                                      SelectedItem="{Binding TriggerType}"
                                      Style="{StaticResource DefaultComboBox}"
                                      Margin="0,0,0,8"/>

                            <Grid Margin="0,0,0,8">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0" Margin="0,0,4,0">
                                    <TextBlock Text="é—´éš”" Style="{StaticResource SubHeaderLabel}"/>
                                    <TextBox Text="{Binding TriggerInterval, UpdateSourceTrigger=PropertyChanged}"
                                             Style="{StaticResource DefaultTextBox}"/>
                                </StackPanel>
                                <StackPanel Grid.Column="1" Margin="4,0,0,0">
                                    <TextBlock Text="å•ä½" Style="{StaticResource SubHeaderLabel}"/>
                                    <ComboBox ItemsSource="{Binding TimeUnits}"
                                              SelectedItem="{Binding TriggerTimeUnit}"
                                              Style="{StaticResource DefaultComboBox}"/>
                                </StackPanel>
                            </Grid>

                            <CheckBox Content="å…¨å±€è§¦å‘å™¨ (global)" 
                                      IsChecked="{Binding TriggerIsGlobal}"
                                      Foreground="{StaticResource TextPrimaryBrush}"
                                      Margin="0,0,0,8"/>

                            <TextBlock Text="åç§»é‡ (offset)" Style="{StaticResource SubHeaderLabel}"/>
                            <TextBox Text="{Binding TriggerOffset, UpdateSourceTrigger=PropertyChanged}"
                                     Style="{StaticResource DefaultTextBox}"
                                     Margin="0,0,0,8"/>

                            <Button Content="æ·»åŠ è§¦å‘å™¨" 
                                    Style="{StaticResource PrimaryButton}"
                                    Command="{Binding AddNewTriggerCommand}"/>
                        </StackPanel>
                    </GroupBox>

                    <!-- è§¦å‘å™¨åˆ—è¡¨ -->
                    <GroupBox Header="è§¦å‘å™¨åˆ—è¡¨" Style="{StaticResource SettingsGroupBox}">
                        <StackPanel>
                            <ListBox ItemsSource="{Binding Program.Triggers}"
                                     SelectedItem="{Binding SelectedTrigger}"
                                     Background="Transparent"
                                     BorderThickness="0"
                                     MaxHeight="120">
                                <ListBox.ItemTemplate>
                                    <DataTemplate>
                                        <TextBlock Foreground="{StaticResource TextPrimaryBrush}">
                                            <TextBlock.Text>
                                                <MultiBinding StringFormat="{}{0} {1} {2}">
                                                    <Binding Path="TriggerType"/>
                                                    <Binding Path="Interval"/>
                                                    <Binding Path="TimeUnit"/>
                                                </MultiBinding>
                                            </TextBlock.Text>
                                        </TextBlock>
                                    </DataTemplate>
                                </ListBox.ItemTemplate>
                            </ListBox>
                            <Button Content="åˆ é™¤é€‰ä¸­è§¦å‘å™¨" 
                                    Style="{StaticResource SecondaryButton}"
                                    Command="{Binding RemoveTriggerCommand}"
                                    Margin="0,8,0,0"/>
                        </StackPanel>
                    </GroupBox>

                    <!-- INPUTè¯­å¥ -->
                    <GroupBox Header="INPUT è¯­å¥" Style="{StaticResource SettingsGroupBox}">
                        <StackPanel>
                            <Grid Margin="0,0,0,8">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0" Margin="0,0,4,0">
                                    <TextBlock Text="æ ‡ç­¾" Style="{StaticResource SubHeaderLabel}"/>
                                    <ComboBox IsEditable="True"
                                              Text="{Binding InputLabel, UpdateSourceTrigger=PropertyChanged}"
                                              ItemsSource="{Binding CommonLabels}"
                                              Style="{StaticResource DefaultComboBox}"/>
                                </StackPanel>
                                <StackPanel Grid.Column="1" Margin="4,0,0,0">
                                    <TextBlock Text="æ•°é‡" Style="{StaticResource SubHeaderLabel}"/>
                                    <TextBox Text="{Binding InputQuantity, UpdateSourceTrigger=PropertyChanged}"
                                             Style="{StaticResource DefaultTextBox}"/>
                                </StackPanel>
                            </Grid>

                            <Grid Margin="0,0,0,8">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0" Margin="0,0,4,0">
                                    <TextBlock Text="ä¿ç•™ (retain)" Style="{StaticResource SubHeaderLabel}"/>
                                    <TextBox Text="{Binding InputRetention, UpdateSourceTrigger=PropertyChanged}"
                                             Style="{StaticResource DefaultTextBox}"/>
                                </StackPanel>
                                <StackPanel Grid.Column="1" Margin="4,0,0,0">
                                    <TextBlock Text="æ–¹å‘ (side)" Style="{StaticResource SubHeaderLabel}"/>
                                    <ComboBox ItemsSource="{Binding Sides}"
                                              SelectedItem="{Binding InputSide}"
                                              Style="{StaticResource DefaultComboBox}"/>
                                </StackPanel>
                            </Grid>

                            <Grid Margin="0,0,0,8">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="2*"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0" Margin="0,0,4,0">
                                    <TextBlock Text="èµ„æºç±»åž‹" Style="{StaticResource SubHeaderLabel}"/>
                                    <ComboBox ItemsSource="{Binding ResourceTypes}"
                                              SelectedItem="{Binding InputResourceType}"
                                              Style="{StaticResource DefaultComboBox}"/>
                                </StackPanel>
                                <StackPanel Grid.Column="1" Margin="4,0,0,0">
                                    <TextBlock Text="èµ„æºID (å¯é€‰)" Style="{StaticResource SubHeaderLabel}"/>
                                    <ComboBox IsEditable="True"
                                              Text="{Binding InputResourceId, UpdateSourceTrigger=PropertyChanged}"
                                              ItemsSource="{Binding CurrentInputResourceIds}"
                                              Style="{StaticResource DefaultComboBox}"/>
                                </StackPanel>
                            </Grid>

                            <CheckBox Content="ä½¿ç”¨ EACH (å¯¹æ¯ä¸ªå®¹å™¨å•ç‹¬å¤„ç†)" 
                                      IsChecked="{Binding InputUseEach}"
                                      Foreground="{StaticResource TextPrimaryBrush}"
                                      Margin="0,0,0,8"/>

                            <Button Content="æ·»åŠ  INPUT" 
                                    Style="{StaticResource PrimaryButton}"
                                    Command="{Binding AddInputStatementCommand}"/>
                        </StackPanel>
                    </GroupBox>

                    <!-- OUTPUTè¯­å¥ -->
                    <GroupBox Header="OUTPUT è¯­å¥" Style="{StaticResource SettingsGroupBox}">
                        <StackPanel>
                            <Grid Margin="0,0,0,8">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0" Margin="0,0,4,0">
                                    <TextBlock Text="æ ‡ç­¾" Style="{StaticResource SubHeaderLabel}"/>
                                    <ComboBox IsEditable="True"
                                              Text="{Binding OutputLabel, UpdateSourceTrigger=PropertyChanged}"
                                              ItemsSource="{Binding CommonLabels}"
                                              Style="{StaticResource DefaultComboBox}"/>
                                </StackPanel>
                                <StackPanel Grid.Column="1" Margin="4,0,0,0">
                                    <TextBlock Text="æ•°é‡" Style="{StaticResource SubHeaderLabel}"/>
                                    <TextBox Text="{Binding OutputQuantity, UpdateSourceTrigger=PropertyChanged}"
                                             Style="{StaticResource DefaultTextBox}"/>
                                </StackPanel>
                            </Grid>

                            <Grid Margin="0,0,0,8">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0" Margin="0,0,4,0">
                                    <TextBlock Text="ä¿ç•™ (retain)" Style="{StaticResource SubHeaderLabel}"/>
                                    <TextBox Text="{Binding OutputRetention, UpdateSourceTrigger=PropertyChanged}"
                                             Style="{StaticResource DefaultTextBox}"/>
                                </StackPanel>
                                <StackPanel Grid.Column="1" Margin="4,0,0,0">
                                    <TextBlock Text="æ–¹å‘ (side)" Style="{StaticResource SubHeaderLabel}"/>
                                    <ComboBox ItemsSource="{Binding Sides}"
                                              SelectedItem="{Binding OutputSide}"
                                              Style="{StaticResource DefaultComboBox}"/>
                                </StackPanel>
                            </Grid>

                            <Grid Margin="0,0,0,8">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="2*"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0" Margin="0,0,4,0">
                                    <TextBlock Text="èµ„æºç±»åž‹" Style="{StaticResource SubHeaderLabel}"/>
                                    <ComboBox ItemsSource="{Binding ResourceTypes}"
                                              SelectedItem="{Binding OutputResourceType}"
                                              Style="{StaticResource DefaultComboBox}"/>
                                </StackPanel>
                                <StackPanel Grid.Column="1" Margin="4,0,0,0">
                                    <TextBlock Text="èµ„æºID (å¯é€‰)" Style="{StaticResource SubHeaderLabel}"/>
                                    <ComboBox IsEditable="True"
                                              Text="{Binding OutputResourceId, UpdateSourceTrigger=PropertyChanged}"
                                              ItemsSource="{Binding CurrentOutputResourceIds}"
                                              Style="{StaticResource DefaultComboBox}"/>
                                </StackPanel>
                            </Grid>

                            <CheckBox Content="ä½¿ç”¨ EACH (æ¯ä¸ªå®¹å™¨æŽ¥æ”¶)" 
                                      IsChecked="{Binding OutputUseEach}"
                                      Foreground="{StaticResource TextPrimaryBrush}"
                                      Margin="0,0,0,8"/>

                            <Button Content="æ·»åŠ  OUTPUT" 
                                    Style="{StaticResource PrimaryButton}"
                                    Command="{Binding AddOutputStatementCommand}"/>
                        </StackPanel>
                    </GroupBox>

                    <!-- IFæ¡ä»¶ -->
                    <GroupBox Header="IF æ¡ä»¶è¯­å¥" Style="{StaticResource SettingsGroupBox}">
                        <StackPanel>
                            <Grid Margin="0,0,0,8">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0" Margin="0,0,4,0">
                                    <TextBlock Text="é›†åˆæ“ä½œ" Style="{StaticResource SubHeaderLabel}"/>
                                    <ComboBox ItemsSource="{Binding SetOperators}"
                                              SelectedItem="{Binding IfSetOperator}"
                                              Style="{StaticResource DefaultComboBox}"/>
                                </StackPanel>
                                <StackPanel Grid.Column="1" Margin="4,0,0,0">
                                    <TextBlock Text="æ ‡ç­¾" Style="{StaticResource SubHeaderLabel}"/>
                                    <TextBox Text="{Binding IfConditionLabel, UpdateSourceTrigger=PropertyChanged}"
                                             Style="{StaticResource DefaultTextBox}"/>
                                </StackPanel>
                            </Grid>

                            <Grid Margin="0,0,0,8">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0" Margin="0,0,4,0">
                                    <TextBlock Text="æ¯”è¾ƒè¿ç®—ç¬¦" Style="{StaticResource SubHeaderLabel}"/>
                                    <ComboBox ItemsSource="{Binding ComparisonOperators}"
                                              SelectedItem="{Binding IfComparisonOperator}"
                                              Style="{StaticResource DefaultComboBox}"/>
                                </StackPanel>
                                <StackPanel Grid.Column="1" Margin="4,0,0,0">
                                    <TextBlock Text="æ•°é‡" Style="{StaticResource SubHeaderLabel}"/>
                                    <TextBox Text="{Binding IfQuantity, UpdateSourceTrigger=PropertyChanged}"
                                             Style="{StaticResource DefaultTextBox}"/>
                                </StackPanel>
                            </Grid>

                            <TextBlock Text="èµ„æºID (å¯é€‰)" Style="{StaticResource SubHeaderLabel}"/>
                            <TextBox Text="{Binding IfResourceId, UpdateSourceTrigger=PropertyChanged}"
                                     Style="{StaticResource DefaultTextBox}"
                                     Margin="0,0,0,8"/>

                            <Button Content="æ·»åŠ  IF" 
                                    Style="{StaticResource PrimaryButton}"
                                    Command="{Binding AddIfStatementCommand}"/>
                        </StackPanel>
                    </GroupBox>

                </StackPanel>
            </ScrollViewer>
        </Border>

        <!-- å³ä¾§ä»£ç é¢„è§ˆ -->
        <Grid Grid.Column="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- å·¥å…·æ  -->
            <Border Grid.Row="0" 
                    Background="{StaticResource BackgroundLightBrush}"
                    Padding="16,12">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <TextBlock Grid.Column="0" 
                               Text="ç”Ÿæˆçš„ä»£ç " 
                               FontSize="18" 
                               FontWeight="SemiBold"
                               Foreground="{StaticResource TextPrimaryBrush}"
                               VerticalAlignment="Center"/>

                    <StackPanel Grid.Column="2" Orientation="Horizontal">
                        <Button Content="å¤åˆ¶" 
                                Style="{StaticResource SecondaryButton}"
                                Command="{Binding CopyCodeCommand}"
                                Margin="0,0,8,0"/>
                        <Button Content="ä¿å­˜" 
                                Style="{StaticResource SecondaryButton}"
                                Command="{Binding SaveToFileCommand}"
                                Margin="0,0,8,0"/>
                        <Button Content="æ¸…ç©º" 
                                Style="{StaticResource SecondaryButton}"
                                Command="{Binding ClearAllCommand}"/>
                    </StackPanel>
                </Grid>
            </Border>

            <!-- ä»£ç ç¼–è¾‘å™¨ -->
            <RichTextBox x:Name="CodePreview" 
                         Grid.Row="1"
                         Style="{StaticResource CodeRichTextBox}"
                         IsReadOnly="True"
                         Margin="16,8,16,8"/>

            <!-- è¯­å¥åˆ—è¡¨ -->
            <Border Grid.Row="2"
                    Background="{StaticResource BackgroundBrush}"
                    BorderBrush="{StaticResource BorderBrush}"
                    BorderThickness="1"
                    Margin="16,0,16,8">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    
                    <!-- æ ‡é¢˜æ  -->
                    <Border Grid.Row="0" 
                            Background="{StaticResource BackgroundLightBrush}"
                            Padding="12,8">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Column="0" 
                                       Text="å½“å‰è§¦å‘å™¨çš„è¯­å¥åˆ—è¡¨" 
                                       FontWeight="SemiBold"
                                       Foreground="{StaticResource TextPrimaryBrush}"
                                       VerticalAlignment="Center"/>

                            <StackPanel Grid.Column="1" Orientation="Horizontal">
                                <Button Content="â†‘" 
                                        Style="{StaticResource SecondaryButton}"
                                        Command="{Binding MoveStatementUpCommand}"
                                        Width="32" Padding="4"
                                        Margin="0,0,4,0"/>
                                <Button Content="â†“" 
                                        Style="{StaticResource SecondaryButton}"
                                        Command="{Binding MoveStatementDownCommand}"
                                        Width="32" Padding="4"
                                        Margin="0,0,4,0"/>
                                <Button Content="åˆ é™¤" 
                                        Style="{StaticResource SecondaryButton}"
                                        Command="{Binding RemoveStatementCommand}"/>
                            </StackPanel>
                        </Grid>
                    </Border>
                    
                    <!-- è¯­å¥åˆ—è¡¨ -->
                    <ListBox Grid.Row="1"
                             ItemsSource="{Binding SelectedTrigger.Statements}"
                             SelectedItem="{Binding SelectedStatement}"
                             Background="{StaticResource BackgroundBrush}"
                             BorderThickness="0"
                             MaxHeight="120"
                             Padding="8"
                             ItemContainerStyle="{StaticResource StatementListBoxItem}">
                        <ListBox.ItemTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding}" 
                                           Foreground="{StaticResource TextPrimaryBrush}"
                                           FontFamily="{StaticResource CodeFont}"/>
                            </DataTemplate>
                        </ListBox.ItemTemplate>
                    </ListBox>
                </Grid>
            </Border>

            <!-- çŠ¶æ€æ  -->
            <Border Grid.Row="3" 
                    Background="{StaticResource BackgroundDarkBrush}"
                    Padding="16,8">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <TextBlock Grid.Column="0" 
                               Text="SFM Code Generator v1.1 - è¶…çº§å·¥åŽ‚ç®¡ç†ä»£ç ç”Ÿæˆå·¥å…·"
                               Foreground="{StaticResource TextSecondaryBrush}"
                               VerticalAlignment="Center"/>

                    <TextBlock Grid.Column="1" 
                               Text="{Binding CharacterCountText}"
                               VerticalAlignment="Center">
                        <TextBlock.Style>
                            <Style TargetType="TextBlock">
                                <Setter Property="Foreground" Value="{StaticResource TextSecondaryBrush}"/>
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding IsCharacterCountWarning}" Value="True">
                                        <Setter Property="Foreground" Value="#FF6B6B"/>
                                        <Setter Property="FontWeight" Value="Bold"/>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </TextBlock.Style>
                    </TextBlock>
                </Grid>
            </Border>
        </Grid>
            </Grid>
        </Grid>
    </Grid>
</Window>
